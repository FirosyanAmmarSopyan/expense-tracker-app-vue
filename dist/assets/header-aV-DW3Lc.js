import{_ as R,a as B,u as U}from"./index-BUXYj-sS.js";import{u as K,au as ee,c as C,r as v,w as te,b as h,e as D,f as c,g as s,S as w,aD as we,aE as ye,aF as Ce,N as m,z as ke,aG as ne,i as n,h as e,aH as xe,ah as oe,m as O,k as E,F as V,l as be,ai as Se,t as L,B as se,a2 as Ee,al as Le,a5 as ae,am as $e,aI as re,aJ as le,aK as ie,aL as ce,Q as ze,o as q,T as De,aM as He,q as A,aN as M,aO as J,I as j,aP as Ie,R as b,aQ as P,n as S,aR as Ae,aS as Me,aT as Re,D as Be,aU as Ne}from"./vendor-B24ldFEr.js";import{_ as pe}from"./Tooltips-DAukjdZG.js";import{_ as X}from"./logo-ttg-CCO2tMEl.js";const Ue={__name:"sidebar",setup(N){K();const t=ee(),l=B(),u=C(()=>l.collapsed);v(!1),v(!1),v(!1),v("Hello, how are you today?"),te(t,r=>{const f=y(r.path);f!=="unknown"&&l.setLastActiveKey(f)},{immediate:!0});function y(r){return r==="/"?"dashboard":r==="/categories-management"?"categories-management":r==="/expense-management"?"expense-management":"unknown"}const a=C(()=>{const r=y(t.path);return r==="unknown"?l.lastActiveKey:r});function p(r){return()=>w(m,null,{default:()=>w(r)})}function g(r){return()=>w(ke,{src:r,width:20,height:20,previewDisabled:!0})}const k=C(()=>[{label:()=>w("a",{href:"/",style:{color:"inherit",textDecoration:"none"}},"Dashboard"),key:"dashboard",icon:p(ne)},{label:()=>w("a",{href:"/categories-management",style:{color:"inherit",textDecoration:"none"}},"Categories Management"),key:"categories-management",icon:g("/building-ic.svg")},{label:()=>w("a",{href:"/expense-management",style:{color:"inherit",textDecoration:"none"}},"Expense Management"),key:"expense-management",icon:g("/setting-ic.svg")}]);return(r,f)=>{const x=we,$=ye,z=Ce;return h(),D(z,{"has-sider":""},{default:c(()=>[s($,{bordered:"","collapse-mode":"width","collapsed-width":64,width:180,"native-scrollbar":!0,collapsed:u.value},{default:c(()=>[s(x,{value:a.value,collapsed:u.value,"collapsed-width":70,"collapsed-icon-size":18,options:k.value},null,8,["value","collapsed","options"])]),_:1},8,["collapsed"])]),_:1})}}},gt=R(Ue,[["__scopeId","data-v-103c2871"]]),Oe={style:{display:"flex","align-items":"center",gap:"1rem"}},Pe={class:"list-company-container"},Ve=["onClick"],Ke={style:{"font-size":"14px","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis",width:"200px"}},Te={__name:"DrawerSearch",setup(N){const t=B(),l=v(""),u=K();v(!1),v([]),v({page:1,pageSize:10,totalPages:0,totalResults:0});const y=a=>{u.push(`/company/${a}`),t.toggleDrawerSearch()};return(a,p)=>{const g=m,k=se,r=Ee,f=Le,x=ae,$=$e,z=re,H=le;return h(),D(H,{show:e(t).drawerSearchActive,"onUpdate:show":p[1]||(p[1]=d=>e(t).drawerSearchActive=d),width:"100vw",height:"100vh",placement:"bottom"},{default:c(()=>[s(z,null,{header:c(()=>[n("div",Oe,[s(k,{secondary:"",text:"",onClick:e(t).toggleDrawerSearch},{default:c(()=>[s(g,{component:e(xe),size:"24"},null,8,["component"])]),_:1},8,["onClick"]),s(r,{placeholder:"Search Company",size:"large",class:"paragraph-16-regular",style:{position:"relative","z-index":"1","border-radius":"50px"},value:l.value,"onUpdate:value":p[0]||(p[0]=d=>l.value=d)},{prefix:c(()=>[s(g,{component:e(oe),size:"22"},null,8,["component"])]),_:1},8,["value"])])]),default:c(()=>[n("div",Pe,[s($,{distance:20,onLoad:a.handleLoad,style:{height:"100%"}},{default:c(()=>[a.filteredData.length===0?(h(),D(f,{key:0,description:"No results found"})):O("",!0),(h(!0),E(V,null,be(a.filteredData,d=>(h(),E("div",{class:"list-company-item",key:d._id,onClick:i=>y(d._id)},[n("div",null,[d.logo_url?(h(),D(x,{key:0,size:"medium",src:d.logo_url,onError:i=>d.logo_url=null},null,8,["src","onError"])):O("",!0),d.logo_url?O("",!0):(h(),D(g,{key:1,size:"20",component:e(Se)},null,8,["component"]))]),n("div",Ke,L(d.name),1)],8,Ve))),128))]),_:1},8,["onLoad"])])]),_:1})]),_:1},8,["show"])}}},Fe=R(Te,[["__scopeId","data-v-cc827df0"]]),Y="data:image/svg+xml,%3csvg%20width='104'%20height='45'%20viewBox='0%200%20104%2045'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1307_710)'%3e%3cpath%20d='M79.2463%2018.2212L83.7407%2026.2569L84.876%2028.2993H92.595C90.7498%2032.1922%2087.664%2034.1386%2083.3376%2034.1386C79.683%2034.1386%2076.9018%2033.1453%2074.9939%2031.1587C73.086%2029.1721%2072.1298%2026.2703%2072.1253%2022.4534C72.1253%2019.065%2073.021%2016.3663%2074.8125%2014.3574C75.7303%2013.3454%2076.8603%2012.5472%2078.1223%2012.0195C79.3844%2011.4918%2080.7475%2011.2474%2082.1149%2011.3038H82.9547H95.047L98.8091%205.65201L102.578%200.000225506H81.9067C77.8574%20-0.0606621%2073.861%200.92196%2070.3047%202.8529C69.9218%203.06719%2069.559%203.28817%2069.203%203.52254C68.9947%203.65647%2068.7999%203.7971%2068.5983%203.93773L68.1953%204.21898C67.9333%204.41317%2067.6847%204.60737%2067.4361%204.80827C67.3817%204.84699%2067.33%204.8895%2067.2816%204.93549C65.2934%206.56702%2063.6396%208.5656%2062.4111%2010.8217C60.5692%2014.4397%2059.6094%2018.4397%2059.6094%2022.4969C59.6094%2026.5541%2060.5692%2030.5541%2062.4111%2034.1721C64.2318%2037.5336%2066.9866%2040.3004%2070.345%2042.1409C73.956%2044.0879%2078.0101%2045.0728%2082.1149%2045.0002C85.4723%2045.0613%2088.8022%2044.3869%2091.8694%2043.0248C94.5484%2041.8337%2096.9589%2040.1165%2098.9569%2037.9757L99.0107%2037.9154C101.744%2034.8411%20103.24%2030.8671%20103.209%2026.7592V18.2212H79.2463Z'%20fill='white'/%3e%3cpath%20d='M26.8719%205.65179L22.8479%200H13.1538H0L7.53758%2011.3036H13.1538H19.5896V43.7612H30.9229V11.3438L26.8719%205.65179Z'%20fill='white'/%3e%3cpath%20d='M60.2008%204.95557L60.2613%204.87521C60.4292%204.65423%2060.6039%204.43994%2060.7853%204.20557L60.8391%204.1453C61.2332%203.67209%2061.6631%203.20333%2062.1289%202.73905L62.2364%202.63191L62.8074%202.08949L63.0291%201.88861L63.5464%201.43994L63.8084%201.22566C63.9831%201.07834%2064.1712%200.931021%2064.3593%200.790396L64.6078%200.596194C64.8833%200.388605%2065.1654%200.187709%2065.4543%20-0.0131836H27.6992L35.7608%2011.2904H44.3061V43.748L44.3665%2043.7011V43.748H55.6998V18.4824C55.6562%2016.067%2056.0358%2013.6626%2056.8217%2011.3774C56.9963%2010.7815%2057.2113%2010.1788%2057.4532%209.5828L57.5271%209.50914C58.1162%208.14861%2058.8432%206.85168%2059.697%205.6386C59.8649%205.41093%2060.0262%205.18324%2060.2008%204.95557Z'%20fill='white'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1307_710'%3e%3crect%20width='103.235'%20height='45'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Qe={class:"credits"},Ge={class:"credit-tips"},We={class:"credits-usage-progress"},Ze={class:"paragraph-12-semibold neutral-00"},qe={__name:"Credit",setup(N){const t=B(),l=C(()=>{var a;return(a=t==null?void 0:t.userData)==null?void 0:a.max_credits}),u=C(()=>t==null?void 0:t.userCredits),y=C(()=>u.value/l.value*100);return(a,p)=>{const g=pe,k=ce;return h(),E("div",Qe,[p[1]||(p[1]=n("div",{class:"credits-usage"},[n("div",{class:"credits-usage-title paragraph-14-semibold"},"Credit Usage")],-1)),n("div",Ge,[s(g,{placement:"bottom",style:{"margin-top":"1rem"},icon:e(ie),"icon-size":14},{default:c(()=>p[0]||(p[0]=[n("div",{class:"paragraph-12-regular neutral-30"},' Credit Usage is based on the number of Research Agents you have activated. See "Knowledge Base" for more info by clicking on the user icon at the top right of your screen. ',-1)])),_:1},8,["icon"])]),n("div",We,[s(k,{type:"line","indicator-placement":"inside",height:20,"rail-color":"#C8C8C8",percentage:e(y),class:"progress-bar"},{default:c(()=>{var r,f;return[n("div",Ze,L((r=e(u))==null?void 0:r.toLocaleString())+" / "+L((f=e(l))==null?void 0:f.toLocaleString()),1)]}),_:1},8,["percentage"])])])}}},Je=R(qe,[["__scopeId","data-v-cfcb25c6"]]),je={class:"logo"},Xe={class:"profile-content"},Ye={style:{"max-width":"100px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},et={class:"profile-content-item",style:{cursor:"pointer !important"}},tt={style:{display:"flex","align-items":"center","padding-top":"0.1rem"}},nt={class:"mini-screen-content"},ot={class:"content-item-profile"},st={class:"paragraph-14-semibold"},at={class:"content-item-profile-right"},rt={class:"paragraph-12-semibold neutral-00"},lt={class:"mini-screen-menu"},it={class:"mini-screen-options"},ct={__name:"header",setup(N){const t=B(),l=K(),u=v(window.innerWidth),y=v(null),a=ee(),p=ze(),g=v(null);C({get:()=>t.theme==="dark",set:i=>{t.theme=i?"dark":"light",localStorage.setItem("theme",t.theme)}});const k=()=>{t.toggleCollapsed()},r=()=>{t.toggleMiniScreenCollapsed()};te(u,i=>{i>768&&t.miniScreenCollapsed&&t.toggleMiniScreenCollapsed()}),q(()=>{const i=()=>{u.value=window.innerWidth};window.addEventListener("resize",i),De(()=>{window.removeEventListener("resize",i)})}),He(y,([i])=>{u.value=i.contentRect.width});const f=C(()=>u.value<=1108);function x(i){return()=>w(m,null,{default:()=>w(i)})}function $(){return w("div",{class:"custom-header",style:{padding:"8px 16px"}},w(Je))}C(()=>[...f.value?[{key:"header",type:"render",render:$}]:[],{label:"Profile",key:"profile",icon:x(Re)},{label:"Logout",key:"logout",icon:x(P)}]);const z=async()=>{const i=localStorage.getItem("access_token"),o=await U().get("/users",{headers:{Authorization:`Bearer ${i}`}});g.value=o.data},H=async()=>{var i;try{const o=localStorage.getItem("access_token");await U().post("undefined/auth/logout",null,{headers:{Authorization:`Bearer ${o}`}}),localStorage.removeItem("access_token"),p.success({title:"Success",content:"Logout successful",duration:2500}),l.push("/login")}catch(o){((i=o.response)==null?void 0:i.status)===401&&(await U().post("/auth/refresh",null),p.success({title:"Success",content:"Logout successful",duration:2500}),l.push("/login")),console.error("Error:",o)}},d=i=>{H()};return q(async()=>{z()}),(i,o)=>{var F;const de=se,ue=Fe,T=ae,me=Be,ge=pe,_e=ce,he=Ne,ve=re,fe=le;return h(),E("div",{class:"header",ref_key:"headerRef",ref:y},[n("div",je,[e(t).theme==="light"?(h(),E(V,{key:0},[A(n("img",{key:"mini-logo",src:X,style:{width:"2rem",height:"auto","margin-left":"0.5rem",cursor:"pointer"},onClick:o[0]||(o[0]=_=>e(l).push("/"))},null,512),[[M,e(t).collapsed&&!e(t).miniScreenCollapsed]]),A(n("img",{key:"full-logo",src:X,style:{width:"7.125rem",height:"auto","margin-top":"0",cursor:"pointer"},onClick:o[1]||(o[1]=_=>e(l).push("/"))},null,512),[[M,!e(t).collapsed||e(t).miniScreenCollapsed]])],64)):(h(),E(V,{key:1},[A(n("img",{key:"mini-logo",src:Y,style:{width:"2rem",height:"auto","margin-left":"0.5rem",cursor:"pointer"},onClick:o[2]||(o[2]=_=>e(l).push("/"))},null,512),[[M,e(t).collapsed&&!e(t).miniScreenCollapsed]]),A(n("img",{key:"full-logo",src:Y,style:{width:"7.125rem",height:"auto","margin-top":"0",cursor:"pointer"},onClick:o[3]||(o[3]=_=>e(l).push("/"))},null,512),[[M,!e(t).collapsed||e(t).miniScreenCollapsed]])],64)),n("div",{onClick:k,class:"collapse-logo"},[s(e(m),{component:e(J),size:"24",color:e(t).collapsed?"#9E9E9E":"var(--color-default)",style:j({transform:e(t).collapsed?"rotate(0deg)":"rotate(90deg)",transition:"transform 0.3s",cursor:"pointer"})},null,8,["component","color","style"])])]),o[15]||(o[15]=n("div",{class:"header-right"},null,-1)),s(de,{secondary:"",text:"",class:"search-popover",onClick:e(t).toggleDrawerSearch},{default:c(()=>[s(e(m),{component:e(oe),size:"24",color:"#9E9E9E"},null,8,["component"])]),_:1},8,["onClick"]),s(ue,{show:e(t).drawerSearchActive,"onUpdate:show":o[4]||(o[4]=_=>e(t).drawerSearchActive=_)},null,8,["show"]),n("div",Xe,[s(T,{size:35,round:"",src:"/ava-ic.svg"}),n("div",Ye,L((F=g.value)==null?void 0:F.username),1),n("div",et,[s(me,{trigger:"click","show-arrow":!1,style:{margin:"0 !important",padding:"0 !important","border-radius":"0 0px 15px 15px"}},{trigger:c(()=>[n("div",tt,[s(e(m),{component:e(Ie),size:"14",color:"#9E9E9E"},null,8,["component"])])]),default:c(()=>[n("a",{href:"#",class:"profile-content-item-popover",onClick:o[5]||(o[5]=b(_=>d("logout"),["prevent"]))},[s(e(m),{component:e(P),size:"20",color:"#9E9E9E"},null,8,["component"]),o[12]||(o[12]=n("div",{class:"profile-content-item-popover-item paragraph-14-regular neutral-30"}," Logout ",-1))])]),_:1})])]),n("div",{class:"header-right-item",style:{cursor:"pointer !important"},onClick:r},[s(e(m),{component:e(J),size:"24",color:e(t).miniScreenCollapsed?"var(--color-default)":"#9E9E9E"},null,8,["component","color"])]),s(fe,{style:{"margin-top":"61px !important","box-shadow":"none !important",height:"75%"},class:"mini-screen-drawer",show:e(t).miniScreenCollapsed,"onUpdate:show":[o[11]||(o[11]=_=>e(t).miniScreenCollapsed=_),r],width:"100vw",placement:"top","show-mask":!1},{default:c(()=>[s(ve,null,{default:c(()=>{var _,Q,G,W,Z;return[n("div",nt,[n("div",ot,[n("a",{href:"/profile",class:"content-item-profile-left",style:{cursor:"pointer !important","text-decoration":"none"},onClick:o[6]||(o[6]=b(I=>e(l).push("/profile")&&(e(t).miniScreenCollapsed=!1),["prevent"]))},[s(T,{round:"",src:(Q=(_=e(t))==null?void 0:_.userData)==null?void 0:Q.picture,style:{width:"35px",height:"35px","flex-shrink":"0"}},null,8,["src"]),n("div",st,L((Z=(W=(G=e(t))==null?void 0:G.userData)==null?void 0:W.name)==null?void 0:Z.substring(0,2).toUpperCase()),1)]),n("div",at,[s(ge,{placement:"bottom",style:{"margin-top":"1rem"},icon:e(ie),"icon-size":16},{default:c(()=>o[13]||(o[13]=[n("div",{class:"paragraph-12-regular neutral-30"},"TES",-1)])),_:1},8,["icon"]),s(_e,{type:"line","indicator-placement":"inside",color:"#3FAA6A",height:20,percentage:e(t).creditPercentage,class:"progress-bar"},{default:c(()=>[n("div",rt,L(e(t).userCredits),1)]),_:1},8,["percentage"])])]),n("div",lt,[n("a",{href:"/",class:S(["mini-screen-menu-item",{"bg-primary-00 round":e(a).path==="/"}]),onClick:o[7]||(o[7]=b(I=>e(l).push("/")&&(e(t).miniScreenCollapsed=!1),["prevent"]))},[s(e(m),{component:e(ne),size:"24",color:e(a).path==="/"?"var(--color-default)":"#9E9E9E"},null,8,["component","color"]),n("div",{class:"paragraph-14-semibold",style:j({color:e(a).path==="/"?"var(--color-default)":"#9E9E9E"})}," Dashboard ",4)],2),n("a",{href:"/categories-management",class:S(["mini-screen-menu-item",{"bg-primary-00 round":e(a).path==="/categories-management"}]),onClick:o[8]||(o[8]=b(I=>e(l).push("/categories-management")&&(e(t).miniScreenCollapsed=!1),["prevent"]))},[s(e(m),{component:e(Ae),size:"24",color:e(a).path==="/categories-management"?"var(--color-default)":"#9E9E9E"},null,8,["component","color"]),n("div",{class:S(["paragraph-14-semibold",{"text-primary":e(a).path==="/categories-management","text-grey":e(a).path!=="/categories-management"}])}," Categories Management ",2)],2),n("a",{href:"/expense-management",class:S(["mini-screen-menu-item",{"bg-primary-00 round":e(a).path==="/expense-management"}]),onClick:o[9]||(o[9]=b(I=>e(l).push("/expense-management")&&(e(t).miniScreenCollapsed=!1),["prevent"]))},[s(e(m),{component:e(Me),size:"24",color:e(a).path==="/expense-management"?"var(--color-default)":"#9E9E9E"},null,8,["component","color"]),n("div",{class:S(["paragraph-14-semibold",{"text-primary":e(a).path==="/expense-management","text-grey":e(a).path!=="/expense-management"}])}," Expense Management ",2)],2),s(he),n("div",it,[n("a",{href:"/logout",class:S(["mini-screen-options-item",{"bg-primary-00 round":e(a).path==="/logout"}]),onClick:o[10]||(o[10]=b(I=>H()&&(e(t).miniScreenCollapsed=!1),["prevent"]))},[s(e(m),{component:e(P),size:"24",color:e(a).path==="/logout"?"var(--color-default)":"#9E9E9E"},null,8,["component","color"]),o[14]||(o[14]=n("div",{class:"paragraph-14-semibold neutral-30"},"Logout",-1))],2)])])])]}),_:1})]),_:1},8,["show"])],512)}}},_t=R(ct,[["__scopeId","data-v-8cef4c37"]]);export{_t as _,gt as a};
