import{u as D,r as _,au as V,o as E,c as I,S as o,av as R,b as r,k as n,g as i,h as t,aw as L,p as m,i as c,m as k,t as d,f as v,ax as U,ay as $,az as H,aA as M,N as W,B as X,aB as G}from"./vendor-B24ldFEr.js";import{_ as J,a as Q}from"./index-BUXYj-sS.js";const Y={key:0,style:{"text-align":"center","justify-content":"center",display:"flex","align-items":"center",height:"50vh"}},Z={key:0,class:"paragraph-16-regular neutral-30"},ee={key:1,class:"paragraph-16-regular neutral-30",style:{"text-align":"center",width:"40%",height:"50%",display:"flex","align-items":"end","justify-content":"center"}},te={key:2,class:"paragraph-16-regular neutral-30",style:{"text-align":"center",width:"40%",height:"50%",display:"flex","align-items":"end","justify-content":"center"}},ae={key:3,class:"paragraph-16-regular neutral-30",style:{"text-align":"center",width:"40%",height:"50%",display:"flex","align-items":"end","justify-content":"center"}},le={key:1,style:{display:"flex","flex-direction":"row","justify-content":"space-between","align-items":"center",gap:"1rem","margin-top":"1rem"}},se={key:0,class:"paragraph-14-regular neutral-30"},oe={key:1,class:"paragraph-14-regular neutral-30"},re={style:{display:"flex","align-items":"center",gap:"0.1rem"}},ne={style:{display:"flex","align-items":"center",gap:"0.1rem"}},ie={class:"paragraph-14-regular neutral-30"},de={__name:"DataTable",props:{columns:{type:Array,required:!0},useCheckbox:{type:Boolean,default:!1},rowKey:{type:String,default:()=>"id"},queryFn:{type:Function},pagination:{type:Boolean,default:!0},rowProps:{type:Function,default:void 0},scrollX:{type:Number,default:1400}},emits:["update:page","update:selectedRows","update:data"],setup(z,{expose:C,emit:B}){Q(),D();const p=z,P=B,b=_([]),y=V().path,N=[{label:"5",key:5,value:5},{label:"10",key:10,value:10},{label:"20",key:20,value:20},{label:"50",key:50,value:50}],K=l=>{P("update:selectedRows",l)},S=l=>{e.value.page=l,h()},O=l=>{e.value.pageSize=Number(l),e.value.page=1,h()};E(()=>{h()});let w=_([]),e=_({page:1,pageSize:20,totalPages:0,totalResults:0,sortBy:"",sortOrder:"",period:null,filters:{}}),g=_(!1);const T=I(()=>{const l=p.columns.map(a=>({...a,title:typeof a.title=="string"?()=>o("div",{class:"paragraph-14-semibold"},a.title):a.title,render:a.render||(u=>{const s=u[a.key];return a.type==="selection"||s==null?s:a.type==="link"?o(R,{trigger:"hover",placement:"bottom",style:{backgroundColor:"white",color:"#545457",maxWidth:"200px",maxHeight:"250px",cursor:"pointer"},arrowStyle:{backgroundColor:"white"}},{default:()=>s,trigger:()=>o("a",{href:s,target:"_blank",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"block",cursor:"pointer",color:"#1E1E1E"}},s)}):o(R,{trigger:"hover",placement:"bottom",style:{backgroundColor:"white",color:"#545457",maxWidth:"200px",maxHeight:"250px",cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis"},arrowStyle:{backgroundColor:"white"}},{default:()=>s,trigger:()=>o("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"default"},class:a.className},s)})}),renderSorterIcon:({order:u})=>{if(u===!1)return o("div",[o("img",{src:"/switch-vertical2.svg",alt:"Ascend",width:"16",height:"16",style:{marginTop:"10px"}})]);if(u==="descend")return o("div",[o("img",{src:"/switch-vertical.svg",alt:"Descend",width:"16",height:"16",style:{marginTop:"10px"}})]);if(u==="ascend")return o("div",[o("img",{src:"/switch-vertical.svg",alt:"Ascend",width:"16",height:"16",style:{transform:"rotate(-180deg)",marginTop:"10px"}})])}}));return p.useCheckbox?[{type:"selection",className:"selection-row"},...l]:l}),A=l=>l[p.rowKey],q=l=>{g.value=l},h=async()=>{if(p.queryFn){const l=await p.queryFn(e.value.page,e.value.pageSize,q,{sortBy:e.value.sortBy,sortOrder:e.value.sortOrder},e.value.period,e.value.filters);w.value=l.data,e.value={...e.value,totalPages:Math.ceil(l.meta.totalResults/e.value.pageSize),totalResults:l.meta.totalResults}}},F=l=>{l.order==="descend"?(e.value.sortBy=l.columnKey,e.value.sortOrder="asc"):l.order==="ascend"?(e.value.sortBy=l.columnKey,e.value.sortOrder="desc"):(e.value.sortBy=null,e.value.sortOrder=null),h()};return C({refresh:()=>{e.value.page=1,h()}}),(l,a)=>{const u=M,s=W,x=X,j=G;return r(),n("div",null,[i(u,{ref:"dataTableInst",columns:t(T),data:t(w),loading:t(g),"row-key":A,"checked-row-keys":t(b),"onUpdate:checkedRowKeys":[a[0]||(a[0]=f=>L(b)?b.value=f:null),K],size:"large","row-props":p.rowProps,ellipsis:"","onUpdate:sorter":F,"max-height":"70vh","scrollbar-props":{trigger:"none"},"scroll-x":p.scrollX,class:"paragraph-14-regular","default-sort-order":"ascend"},null,8,["columns","data","loading","checked-row-keys","row-props","scroll-x"]),t(w).length?k("",!0):(r(),n("div",Y,[t(y)==="/"?(r(),n("div",Z," No Value Triggers detected for your Followed Companies in the selected time frame ")):t(y)==="/company"||t(y)==="/company/admin"?(r(),n("div",ee,a[4]||(a[4]=[m(" Looks like you need to add companies to follow "),c("br",null,null,-1),m(" Use the Search bar to look up and start following companies ")]))):t(y)==="/master-datasource"?(r(),n("div",te," Looks like you don't have a data source. Please wait for the background task to finish the data gathering process. ")):t(y)==="/traceability"?(r(),n("div",ae,a[5]||(a[5]=[m(" No data available for Traceability Report."),c("br",null,null,-1),m(" Please click Process Button to search for other data. ")]))):k("",!0)])),p.pagination&&t(w).length>0?(r(),n("div",le,[c("div",null,[t(e).page*t(e).pageSize>t(e).totalResults?(r(),n("div",se,d((t(e).page-1)*t(e).pageSize+1)+" - "+d(t(e).totalResults)+" of "+d(t(e).totalResults),1)):(r(),n("div",oe,d((t(e).page-1)*t(e).pageSize+1)+" - "+d(t(e).page*t(e).pageSize)+" of "+d(t(e).totalResults),1))]),c("div",re,[c("div",ne,[a[6]||(a[6]=c("div",{class:"paragraph-14-regular neutral-30"},"Rows per page:",-1)),i(j,{value:t(e).pageSize,"onUpdate:value":[a[1]||(a[1]=f=>t(e).pageSize=f),O],options:N,size:"small",trigger:"click"},{default:v(()=>[i(x,{size:"small",class:"paragraph-14-regular neutral-30",text:"",style:{"min-width":"50px"}},{default:v(()=>[m(d(t(e).pageSize)+" ",1),i(s,{size:"small",style:{"margin-left":"4px"}},{default:v(()=>[i(t(U))]),_:1})]),_:1})]),_:1},8,["value"])]),i(x,{quaternary:"",disabled:t(e).page===1||t(g),onClick:a[2]||(a[2]=f=>S(t(e).page-1))},{default:v(()=>[i(s,{size:"24",class:"round",component:t($),color:t(e).page===1||t(g)?"rgba(167, 167, 173, 0.5)":"rgba(167, 167, 173, 1)",style:{outline:"1px solid rgba(70, 79, 96, 0.24)","z-index":"10"}},null,8,["component","color"])]),_:1},8,["disabled"]),c("span",ie,d(t(e).page)+" of "+d(t(e).totalPages),1),i(x,{quaternary:"",disabled:t(e).page===t(e).totalPages||t(g),onClick:a[3]||(a[3]=f=>S(t(e).page+1))},{default:v(()=>[i(s,{size:"24",class:"round",component:t(H),color:t(e).page===t(e).totalPages||t(g)?"rgba(167, 167, 173, 0.5)":"rgba(167, 167, 173, 1)",style:{outline:"1px solid rgba(70, 79, 96, 0.24)"}},null,8,["component","color"])]),_:1},8,["disabled"])])])):k("",!0)])}}},ge=J(de,[["__scopeId","data-v-83ae9df4"]]);export{ge as _};
